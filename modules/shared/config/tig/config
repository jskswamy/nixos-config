# Tig configuration with Gruvbox theme
# Using only verified color areas from official tig documentation

# Basic UI colors (gruvbox inspired)
color default           white       black
color cursor            black       yellow      bold
color status            green       black
color delimiter         cyan        black
color date              blue        black
color mode              cyan        black
color overflow          red         black

# Header and title colors
color header            yellow      black       bold
color title-focus       black       yellow      bold
color title-blur        white       black

# Main view colors (git history)
color main-commit       white       black
color main-tag          magenta     black       bold
color main-local-tag    magenta     black
color main-remote       yellow      black
color main-replace      cyan        black
color main-tracked      yellow      black
color main-ref          cyan        black
color main-head         cyan        black       bold

# Graph commit visualization
color graph-commit      cyan        black

# Diff colors (for code changes)
color diff-header       yellow      black       bold
color diff-index        blue        black
color diff-chunk        magenta     black       bold
color diff-add          green       black
color diff-del          red         black
color diff-oldmode      yellow      black
color diff-newmode      yellow      black
color "copy from "      yellow      black
color "copy to "        yellow      black
color diff-similarity   yellow      black

# Tree view colors (file browser)
color tree.directory    yellow      black       bold
color tree.file         white       black

# Search highlighting
color search-result     black       yellow      bold

# Help view colors
color help-group        blue        black       bold
color help-action       yellow      black

# Basic settings for better usability
set wrap-lines = yes
set tab-size = 2
set mouse = false                    # Disable mouse to allow terminal text selection
set mouse-scroll = 3                 # Allow mouse wheel scrolling
set ignore-case = yes               # Case-insensitive search

# Editor settings for better diff viewing
set diff-context = 3                # Show 3 lines of context in diffs
set line-graphics = utf-8           # Use UTF-8 line graphics
set truncation-delimiter = ~        # Show ~ for truncated lines

# Key bindings for vim-like navigation
bind generic g move-first-line
bind generic G move-last-line
bind generic <C-f> scroll-page-down
bind generic <C-b> scroll-page-up
bind generic <PageDown> scroll-page-down
bind generic <PageUp> scroll-page-up

# Alternative navigation (since Ctrl+d/u conflict with existing bindings)
bind generic <Space> scroll-page-down
bind generic <Backspace> scroll-page-up

# Copy operations
bind main y !@sh -c "echo %(commit) | pbcopy"
bind diff y !@sh -c "echo %(commit) | pbcopy"
bind log y !@sh -c "echo %(commit) | pbcopy"
bind main Y !@sh -c "echo '%(commit) %(subject)' | pbcopy"  # Copy commit + subject
bind diff D !@sh -c "tig show %(commit) | pbcopy"          # Copy full diff

# Open files in editor
bind diff e !sh -c "${EDITOR:-nvim} %(file)"
bind tree e !sh -c "${EDITOR:-nvim} %(file)"

# Search bindings
bind generic / search
bind generic ? search-back
bind generic n find-next
bind generic N find-prev
